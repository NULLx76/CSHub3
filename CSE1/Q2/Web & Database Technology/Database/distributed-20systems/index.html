<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>MyBlog</title>
  <link rel="stylesheet" href="https://nullx76.github.io/CSHub3/main.css">
</head>

<body>
  <div class="container">
    <head>
      <h1><a href="/">CSHub.nl</a></h1>
    </head>
    <section class="section">
      
  <section class="page">
  <h1>Scalability</h1><h2>Vertical scalability</h2><p>RDBMs are designed to run on a single machine</p><ul><li>Increase #CPUs, system memory, etc</li><li>To scale, buy a bigger machine -&gt; <strong>vertical scalability</strong></li><li><strong>But </strong>performance limit, higher costs, vendor lock-in</li></ul><p><br></p><h2><strong>Horizontal scalability</strong></h2><ul><li>cheaper</li><li>adding more (commodity) machines, organized in clusters (the cloud)</li><li>flexible deployment and maintenance</li><li>But you now have a <strong>distributed system</strong></li><li>Spreading data around multiple machine <strong>introduces more problems</strong></li></ul><p><br></p><h1><strong>Transactions</strong></h1><p><strong>Definition: </strong>An executing program that forms a logical unit of database processing that is either completed in its entirety, or not at all</p><ul><li>It includes one or more database operation (insertion, deletion, update)</li><li>It's a fundamental concept for <strong>multi-user</strong> database systems, multiple users access the database <strong>concurrently</strong></li><li>Transaction boundaries are</li><li class="ql-indent-1"><strong>implicit: </strong>single operation</li><li class="ql-indent-1"><strong>explicit: </strong>begin transaction and end transaction commands</li><li class="ql-indent-1"><strong>read-only: </strong>data is not updated</li><li class="ql-indent-1"><strong>read-write: </strong>at least one update to the data</li></ul><p><br></p><p><strong>Possible problems if we don't use transactions</strong></p><ul><li><strong>Lost update problem: </strong><span class="ql-formula" data-value="T_2">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">T_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> reads the value before <span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> changes the database, and then proceeds to overwrite the value the change by <span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> </li><li><strong>Temporary update (dirty read): </strong><span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> updates <span class="ql-formula" data-value="X">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span style="margin-right: 0.07847em;" class="mord mathdefault">X</span></span></span></span></span>﻿</span>, but then fails and has to revert, but <span class="ql-formula" data-value="T_2">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">T_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> has already read the updated <span class="ql-formula" data-value="X">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span style="margin-right: 0.07847em;" class="mord mathdefault">X</span></span></span></span></span>﻿</span></li><li><strong>Incorrect summary:</strong> <span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> is calculating an aggregate summary function on a number of records while <span class="ql-formula" data-value="T_2">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">T_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> is updating some of these records, the aggregate function may calculate some values before they are updated and others after they are updated.</li><li><strong>Unrepeatable read: </strong><span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> reads the same item twice, but the item is changed by <span class="ql-formula" data-value="T_2">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">T_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> in between reads</li><li><strong>Inconsistent read: </strong><span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> isn't done with the transaction, so the constraints are currently not satisfied. At that time <span class="ql-formula" data-value="T_2">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">T_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> updates the inconsistent data and such, <span class="ql-formula" data-value="T_1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">T_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span style="margin-right: 0.13889em;" class="mord mathdefault">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> can't satisfy the constraints anymore</li></ul><p><br></p><h2>ACID</h2><ul><li><strong>Atomicity: </strong>either all or no actions are carried out</li><li><strong>Consistency: </strong>if each transaction is consistent, and the database is initially consistent, then it is left consistent (defined in terms of constraints)</li><li><strong>Isolations: </strong>the results of any changes made during a transaction are not visible until the transaction has been committed. Thus transactions are isolated or protected from the effects of other scheduled transactions</li><li><strong>Durability: </strong>the results of a committed transaction survive failures. Thus it can be recovered from a crash or the transaction is completely reverted</li></ul><p><br></p><p><strong>In a realistic situtation: </strong>this is a hard problem, we don't want to have a transaction that is going on for minutes, but that would mean that data can update in the meantime. This gives us a risk of inconsistency, giving the programmers responsibility. In order to tackle this problem, <a href="https://cshub.nl/post/914781359" target="_blank">NoSQL </a>was invented.</p><p><br></p><h1>Distribution</h1><h2><strong>The 8 fallacies of distributed computing</strong></h2><ul><li>The network is reliable</li><li>Latency is zero</li><li>Bandwidth is infinite</li><li>The network is secure</li><li>Topology doesn't change</li><li>There is one administrator</li><li>Transport cost is zero</li><li>The network is homogeneous</li></ul><p><br></p><h2>Sharding</h2><ul><li>Data partitioning, cluster data that is often accessed together.</li><li>Improves read and write speed (at the cost of error), using BASE principes.</li></ul><p><br></p><p><strong>Shard key: </strong>data is partitioned into data chunks by the shard key. Chunks are distributed evenly across shards (physical servers). This distributing is done using various rules.</p><p><br></p><h2><strong>Replication</strong></h2><ul><li>Multiple copies of the same data on multiple servers</li><li><strong>Advantages:</strong></li><li class="ql-indent-1">Increased <strong>availability</strong></li><li class="ql-indent-1">Decreased <strong>data </strong>transmission volume</li><li class="ql-indent-1"><strong>Parallel </strong>query execution</li></ul><p><br></p><ul><li><strong>Disadvantages:</strong></li><li class="ql-indent-1">System must <strong>ensure consistency of all copies</strong></li><li class="ql-indent-1">A number of operations to be carried out in a number of nodes cause a decrease in the availability</li></ul><p><br></p><ul><li>Types</li><li class="ql-indent-1"><strong>Master-slave: </strong>master can be written to and all the slaves can be read from</li><li class="ql-indent-1"><strong>Peer to peer: </strong>everybody is a master and everybody is a slave</li></ul><p><br></p><h2><strong>Sharding + replication</strong></h2><ul><li>Sharding + master-slave replication:</li><li class="ql-indent-1">multiple masters, each for different data</li><li class="ql-indent-1">roles of the nodes can <strong>overlap</strong></li></ul><p><br></p><ul><li>Sharding + peer to peer replication:</li><li class="ql-indent-1">placement of <strong>anything anywhere</strong></li></ul><p><br></p><h2><strong>Cap theorem</strong></h2><p><strong>Consistency</strong>, <strong>Availability</strong>, <strong>Partition </strong>tolerance - in distributed systems it is possible to achieve only two of the three properties</p><ul><li><strong>Consistency</strong> among replicated copies; after a write operation, all readers see the same data. Responses are correct.</li><li><strong>Availability: </strong>each request eventually receives a response. A fast response is preferable, but a slow is still better than no response</li><li><strong>Partitions tolerance</strong>: the system must continue working even when "islands" (isolated sets of computers) occur</li></ul><p><br></p><ul><li>Consequences</li><li class="ql-indent-1"><strong>CA </strong>(consistency + availability): traditional ACID properties are easier to achieve, RDBMS on a single-node system are CA</li><li class="ql-indent-1"><strong>CP </strong>(consistency + partition tolerance): extremely difficult to achieve. No system is really, fully CP</li><li class="ql-indent-1"><strong>AP </strong>(availability + partition tolerance): new concept of <strong>BASE </strong>properties</li></ul><p><br></p><ul><li><strong>BASE </strong>(opposite of <strong>ACID, </strong>but more vague)<strong>:</strong></li><li class="ql-indent-1"><strong>B</strong>asically <strong>A</strong>vaillable: practically always available</li><li class="ql-indent-1"><strong>S</strong>oft-state: not always consistent, fluid system</li><li class="ql-indent-1"><strong>E</strong>ventual consistency: eventually it will be consistent</li></ul><p><br></p><h2><strong>BASE vs ACID</strong></h2><p><strong>ACID</strong></p><ul><li>Used in relational databases</li><li>Consistency over availability</li><li>Pessimistic approach</li></ul><p><br></p><p><strong>BASE</strong></p><ul><li>Common in NoSQL databases</li><li>Choose availability over consistency</li><li>Optimistic approach</li><li>Allows higher levels of availability than with ACID.</li></ul>
  </section>

    </section>
  </div>
</body>

</html>