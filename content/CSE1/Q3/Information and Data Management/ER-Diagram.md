+++
title = "ER-Diagram"
date = 2019-09-29
+++
<h1 id="er-model">ER-model</h1><ul><li>Catalog (data dictionary) contains all <strong>meta-data</strong></li><li>Defines the <strong>structure </strong>of the data in the database</li></ul><p><br></p><h1 id="er-diagram">ER-diagram</h1><p>Depicts entities, the relationships between them and attributes of those entities and relationships. This diagram can be used to defined schemas.</p><p><br></p><p>An ER-diagram has a few constructs, as visualized in the image in <strong>Appendix A. </strong>Here are elaborations on those constructs:</p><p><br></p><h2 id="entity"><strong>Entity</strong></h2><p>Used to represent objects that have properties in common and an autonomous existence, meaning it exists independent of the properties associated with it. By convention, the name of an entity is a singular noun</p><p><br></p><p><strong>Weak entity</strong></p><p>A weak entity is an entity where the set of all its attribute is not sufficient to uniquely identify occurences of that entity.  These sets may not have internal identifiers or have partial identifiers (see "attribute" for more on identifiers)</p><ul><li>In order to identify such an entity uniquely, another entity has to be involved (called the identifying or owner entity type). The relationship between these two entities is called the identifying relationship</li><li>The entity usually has a partial key, the attribute the uniquely identifies weak entities related to the same owner entity, there can be multiple identifying entities in order to identify a weak entity (as long as no cycles are generated)</li></ul><p><br></p><h2 id="relationship"><strong>Relationship</strong></h2><p>A relationship denotes there are properties which connect the two entities, A relationship is always between entities, the degree of the relationship is the number of participating entities. </p><p><br></p><p><strong>Types of relationships</strong></p><ul><li>A relationship of degree 2 is called binary, of 3 is called ternary. </li><li>A recursive relationship means that an entity has a relationship with itself, we can have one-to-one or many-to-many recursive relationships</li></ul><p><br></p><p><strong>Duplicates</strong></p><ul><li>The set of occurrences of a relationship is a mathematical relation between the occurrences of he involved entity, meaning that there can be no duplicate relationships (relationships with the exact same properties) </li><li>If we have duplicate relationships (e.g. taking an exam twice), we can use a higher degree relationship, which provides extra attributes such that there are unique relationships</li></ul><p><br></p><p><strong>Cardinality</strong></p><p>Every entity has a corresponding cardinality, these can be:</p><ul><li>One-to-one (single instance of one entity which has a relation to a single instance of another entity), visualized by putting the number <span class="ql-formula" data-value="1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>﻿</span> next to both the entities</li><li>One-to-many (single instance of one entity which has a relation to many instances of another entity), visualized by putting the number <span class="ql-formula" data-value="1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>﻿</span> next to one entity, and a letter <span class="ql-formula" data-value="n">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>﻿</span> next to the other</li><li>Many-to-many (many instances which have relations to many instances of another entity), visualized by putting letters <span class="ql-formula" data-value="n">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span>﻿</span> and <span class="ql-formula" data-value="m">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">m</span></span></span></span></span>﻿</span> next to both the entities</li><li>Theoretically speaking, we can also assign numbers like <span class="ql-formula" data-value="5">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">5</span></span></span></span></span>﻿</span> as cardinality, but that is not common practice</li></ul><p><br></p><p>There is also another way to go about this:</p><ul><li><strong>maximum </strong>(cardinality ratio), the cardinality associated with an entity can be <span class="ql-formula" data-value="1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>﻿</span> or <span class="ql-formula" data-value="N">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span style="margin-right: 0.10903em;" class="mord mathdefault">N</span></span></span></span></span>﻿</span>(one or an arbitrary number of occurrences of a relationship)</li><li><strong>minimum </strong>(participation constraint), the cardinality associated with an entity can be <span class="ql-formula" data-value="0">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>﻿</span> (optional or partial participation) or <span class="ql-formula" data-value="1">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>﻿</span> (mandatory or total participation)</li></ul><p><br></p><p>For examples on this, take a look at the slides.</p><p><br></p><h2 id="attribute"><strong>Attribute</strong></h2><p>Attributes provide descriptions of an entity or relationship, an entity or relationship can have multiple attributes</p><p><br></p><p><strong>Cardinality</strong></p><p>Attributes have an associated cardinality, which describes the minimum and maximum values of the amount of occurrences of that attribute on an entity. This is normally <span class="ql-formula" data-value="\left(1,\ 1\right)">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">(</mo><mn>1</mn><mo separator="true">,</mo><mtext>&nbsp;</mtext><mn>1</mn><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(1,\ 1\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.16666666666666666em;"></span><span class="mspace">&nbsp;</span><span class="mord">1</span><span class="mclose delimcenter" style="top: 0em;">)</span></span></span></span></span></span>﻿</span> and is then omitted. </p><ul><li>Attributes with cardinality <span class="ql-formula" data-value="0">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span></span></span></span></span>﻿</span> are called <em>optional</em></li><li>Attributes with cardinality <span class="ql-formula" data-value="N">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span style="margin-right: 0.10903em;" class="mord mathdefault">N</span></span></span></span></span>﻿</span> are called <em>multivalued</em></li></ul><p><br></p><p><strong>Types of attributes</strong></p><ul><li><strong>Simple attributes </strong>are attributes that are not divisible any further</li><li><strong>Composite attributes </strong>are attributes that connected to simpler attribute types (e.g. the composite attribute address connects to the simple attributes zip code, house number and street name)</li><li><strong>Derived attributes </strong>are attributes that have values generated from other attributes</li></ul><p><br></p><p><strong>Identifiers </strong></p><ul><li>Identifiers are attributes for each entity type that allow for unique identification of the entity instance</li><li>If an identifier is formed by one or more the attributes of the entity itself, we call it an <strong>internal identifier</strong> (key), where each of the involved attributes has <span class="ql-formula" data-value="\left(1,\ 1\right)">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo fence="true">(</mo><mn>1</mn><mo separator="true">,</mo><mtext>&nbsp;</mtext><mn>1</mn><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(1,\ 1\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top: 0em;">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.16666666666666666em;"></span><span class="mspace">&nbsp;</span><span class="mord">1</span><span class="mclose delimcenter" style="top: 0em;">)</span></span></span></span></span></span>﻿</span> cardinality</li><li>Each entity must have 1 identifier, but can have more</li><li>In an ER diagram, the key attribute is underlined. If more attributes make up a key, we make a minimal composite attribute and underline that attribute</li></ul><p><br></p><h1 id="eer-diagram">EER-diagram</h1><p>The EER (Enhanced Entity Relation) diagram includes all modelling concepts of the ER model, but is created to design more accurate schemas with more complex requirements</p><p><br></p><h2 id="subtype">Subtype</h2><p>A subtype in EER can be compared to inheritance in OOP, where you have a base class which is extended by a few subclasses.</p><p><br></p><p><strong>Class/Subclass relationship</strong></p><ul><li>In an EER this is also called a <strong>generalization </strong>or <strong>specialization</strong> relationship</li><li>It represents logical links between a parent entity <span class="ql-formula" data-value="E">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span style="margin-right: 0.05764em;" class="mord mathdefault">E</span></span></span></span></span>﻿</span> and child entities <span class="ql-formula" data-value="E_1,\ \dots,\ E_n">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>E</mi><mn>1</mn></msub><mo separator="true">,</mo><mtext>&nbsp;</mtext><mo>…</mo><mo separator="true">,</mo><mtext>&nbsp;</mtext><msub><mi>E</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">E_1,\ \dots,\ E_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.8777699999999999em; vertical-align: -0.19444em;"></span><span class="mord"><span style="margin-right: 0.05764em;" class="mord mathdefault">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.30110799999999993em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.16666666666666666em;"></span><span class="mspace">&nbsp;</span><span class="minner">…</span><span class="mspace" style="margin-right: 0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.16666666666666666em;"></span><span class="mspace">&nbsp;</span><span class="mord"><span style="margin-right: 0.05764em;" class="mord mathdefault">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.5500000000000003em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>﻿</span> </li><li>The parent entity is the generalization of the child entities, which are specializations of the parent</li></ul><p><br></p><p>This relationship is visualized as seen in appendix B</p><p><br></p><p><strong>Specialization</strong></p><ul><li>Every occurrence of a child entity is also an occurrence of the parent entity</li><li>Every property of the parent entity (attributes, identifiers, relationships and other generalizations) is also a property of a child entity</li><li>Specialization can define specific attributes and/or specific relationship types</li></ul><p><br></p><p><strong>Subclass</strong></p><p>In general, we may have several specializations defined on the same entity type. However, a specialization may also consist of a single subclass only. In such a case, we talks about a <strong>subset</strong>, and we can omit the circle notation, see appendix C</p><p><br></p><p><strong>Constraints</strong></p><ul><li>In some specializations we can determine which entities will become member of each subclass by placing a condition on the value of some attribute of the superclass. Such subclasses are called predicate-defined (or condition defined) subclasses.</li><li>If all subclasses in a specialization have their membership condition on the same attribute of the superclass, the specialization itself is called an attribute-defined specialization, and the attribute is called the defining attribute of the specialization. In this case, all the entities with the same value for the attribute belong to the same sub-class. We display an attribute-defined specialization by placing the defining attribute name next to the arc from the circle to the superclass</li><li>When we do not have a condition for determining membership in a subclass, the subclass is called user-defined.&nbsp;</li></ul><p><br></p><p>For a visualization of these constraints, see appendix D</p><p><br></p><h1 id="external-sources">External sources</h1><ul><li><a href="https://www.youtube.com/watch?v=c0_9Y8QAstg" target="_blank">Entity-Relationship Diagrams</a></li></ul><p><br></p><h1 id="appendix">Appendix</h1><h2 id="a">A</h2><p><img src="https://i.imgur.com/M7BrkJ3.png" width="450"></p><p><em>Image taken from slides by C. Lofi and A. Katsifodimos</em></p><p><br></p><h2 id="b">B</h2><p><img src="https://i.imgur.com/cxkNXfK.png" width="460"></p><p><em>Image taken from slides by C. Lofi and A. Katsifodimos</em></p><p><br></p><h2 id="c">C</h2><p><img src="https://i.imgur.com/s2Cic0B.png" width="186"></p><p><em>Image taken from slides by C. Lofi and A. Katsifodimos</em></p><p><br></p><h2 id="d">D</h2><p><img src="https://i.imgur.com/pne930o.png" width="208"></p><p><em>Image taken from slides by C. Lofi and A. Katsifodimos</em></p>