+++
title = "Database security"
date = 2019-04-07
+++
<h1>Security</h1><h2>Information security</h2><p>When talking about information security, we use a CIA-triad, which discusses</p><ul><li>Confidentiality: is the information protected?</li><li>Integrity: is the information accurate?</li><li>Availability: is the information accessible?</li></ul><p><br></p><h2>Database security threats</h2><ol><li>Weak authentication (bad passwords)</li><li>Excessive database privileges</li><li>Insider threats</li><li>Database injection</li><li>Unmanaged sensitive data (storing sensitive data unprotected)</li><li>Using vulnerable software</li></ol><p><br></p><h2>Database security threats mitigation</h2><ul><li>Encrypt databases, either the data-in-transit or the data-at-rest (the whole database)</li><li>Never use default usernames or passwords</li><li>Use 2 factor authentication</li><li>Least privilege, on a need-to-know basis</li><li>Log everything</li><li>Updating regularly</li><li>Maintaining regular backups in air gapped environment</li><li>Disable public error reporting (don't show detailed error reporting to the user)</li><li>Messy architecture means difficult maintenance</li><li>Employee awareness</li></ul><p><br></p><h2>SQL Injection</h2><p>SQL Injection refers to an <strong>injection attack </strong>wherein an attacker can <strong>execute malicious SQL statements </strong>that control a web application's <strong>database server</strong>.</p><p><br></p><p>Thus: there is SQL injection when a user of a web application can execute SQL statements</p><p><br></p><p>Using SQL injection attackers can insert backdoors, steal information or delete records</p><p><br></p><p><strong>Types of SQL injection</strong></p><ul><li>Tautology based: the query is changed in such a way that you create a tautology (which is always true)</li><li>Union based: using UNION to select more data</li><li>Piggy back based: executing another query after the previous one</li></ul><p><br></p><p><strong>Avoiding SQL injection</strong></p><ul><li>Input sanitation, clean the user input</li><li>Escaping the input to avoid data being mistaken as code (but this can give a 2nd order injection attack, the effect of which is not seen immediately)</li><li>Prepared statements, the query is first sent to the database, the data is represented by placeholders</li></ul><p><br></p>