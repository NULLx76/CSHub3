+++
title = "Floating points"
date = 2019-09-05
+++
<ul><li><span style="background-color: transparent;">Sign (1 bit)</span></li><li><span style="background-color: transparent;">Exponent (8 bits), subtract 127 from component to get </span><span> <span class="ql-formula" data-value="mantissa\times2^{\exp-127}">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>a</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>a</mi><mo>×</mo><msup><mn>2</mn><mrow><mi>exp</mi><mo>⁡</mo><mo>−</mo><mn>127</mn></mrow></msup></mrow><annotation encoding="application/x-tex">mantissa\times2^{\exp-127}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.74285em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right: 0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141079999999999em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141079999999999em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight">exp</span><span class="mspace mtight" style="margin-right: 0.19516666666666668em;"></span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span></span>﻿</span> </span></li><li><span style="background-color: transparent;">If it is a valid IEEE754 floating point number (meaning, it's normalized) the mantissa has an implicit 1</span></li><li><strong style="background-color: transparent;">Addition</strong><span style="background-color: transparent;">: </span></li><li class="ql-indent-1"><span style="background-color: transparent;">Change lower exponent to higher and shift</span></li><li class="ql-indent-1"><span style="background-color: transparent;">Add mantissas</span></li><li class="ql-indent-1"><span style="background-color: transparent;">Normalize</span></li><li><strong style="background-color: transparent;">Multiplication / division: </strong></li><li class="ql-indent-1"><span style="background-color: transparent;">Add / subtract exponents, then subtract 127 / add 127</span></li><li class="ql-indent-1"><span style="background-color: transparent;">Multiply mantissas / divide</span></li><li class="ql-indent-1"><span style="background-color: transparent;">Normalize</span></li><li><strong style="background-color: transparent;">Special things:</strong></li><li class="ql-indent-1"><span style="background-color: transparent;">Exponent 111111111 → Mantissa not 0 → </span><span><span class="ql-formula" data-value="NaN">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi>a</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">NaN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span style="margin-right: 0.10903em;" class="mord mathdefault">N</span><span class="mord mathdefault">a</span><span style="margin-right: 0.10903em;" class="mord mathdefault">N</span></span></span></span></span>﻿</span> </span></li><li class="ql-indent-1"><span style="background-color: transparent;">Exponent 111111111 → Mantissa 0 → Infinity</span></li><li class="ql-indent-1"><span style="background-color: transparent;">Exponent 00000000 → Mantissa 0 → Value 0</span></li><li class="ql-indent-1"><span style="background-color: transparent;">Exponent 00000000 → Mantissa not 0 → Denormal numbers, <span class="ql-formula" data-value="0.mantissa\times2^{-126}">﻿<span contenteditable="false"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.</mn><mi>m</mi><mi>a</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>a</mi><mo>×</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>126</mn></mrow></msup></mrow><annotation encoding="application/x-tex">0.mantissa\times2^{-126}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.74285em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right: 0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141079999999999em; vertical-align: 0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141079999999999em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></span></span>﻿</span>. No implied 1</span></li><li><strong style="background-color: transparent;">Rounding:</strong></li><li class="ql-indent-1"><strong style="background-color: transparent;">Chopping</strong><span style="background-color: transparent;">: removing bits</span></li><li class="ql-indent-1"><strong style="background-color: transparent;">Von Neumann</strong><span style="background-color: transparent;"> rounding: if to be removed bits are 0, then all of them are just removed. If any are 1, the least significant bit of the retained bits is set to one.</span></li><li class="ql-indent-1"><strong style="background-color: transparent;">Rounding</strong><span style="background-color: transparent;">: A 1 is added to the LSB position of the bits to be retained if there is a 1 in the MSB position of the bits being removed.</span></li></ul><p><br></p><p><br></p>